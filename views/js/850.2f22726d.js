"use strict";(self["webpackChunkiss4u"]=self["webpackChunkiss4u"]||[]).push([[850,732,39,672],{2732:function(e,s,t){t.r(s),t.d(s,{default:function(){return O}});var a=t(3396),o=t(3862),i=t(7139);const r=e=>((0,a.dD)("data-v-3c9b5d3c"),e=e(),(0,a.Cn)(),e),l={class:"row justify-content-center"},n={class:"col-9 align-self-center prova"},c=r((()=>(0,a._)("h1",null,"Aggiungi task",-1))),d={key:0,class:"row"},m={class:"col-md-12 error"},u={class:"row form-floating"},h={class:"col-md-6 form-floating"},p=r((()=>(0,a._)("label",{for:"startDate",class:"myLabel"},"    Data di inizio",-1))),g={class:"col-md-6 form-floating"},_=r((()=>(0,a._)("label",{for:"endDate",class:"myLabel"},"    Data di fine",-1))),f={class:"row form-floating"},v={class:"col-md-6 form-floating"},k=r((()=>(0,a._)("label",{for:"Name",class:"myLabel"},"    Nome task",-1))),w={class:"col-md-6 form-floating"},y=r((()=>(0,a._)("label",{for:"modulo",class:"myLabel"},"    Modulo",-1))),b={class:"row form-floating"},D={class:"col form-floating input-group mb-9"},E=r((()=>(0,a._)("span",{class:"input-group-text myLabel",style:{"background-color":"white"}},"Descrizione",-1))),C={class:"col-md-3"},I=r((()=>(0,a._)("label",{for:"checkbox",class:"myLabel"},"    Completato? ",-1))),z={key:1,class:"row form-floating"},x={class:"col-md-9 form-floating input-group"},N=r((()=>(0,a._)("option",{disabled:"",value:""},"Seleziona un utente",-1))),A=["value"],T=r((()=>(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col-md-12"},[(0,a._)("button",{class:"btn btn-primary",type:"submit"},"Aggiungi")])],-1)));function L(e,s,t,r,L,U){return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",n,[c,(0,a._)("form",{class:"form-floating",onSubmit:s[7]||(s[7]=(0,o.iM)(((...e)=>U.addTask&&U.addTask(...e)),["prevent"]))},[L.isError?((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",m,(0,i.zw)(L.error),1)])):(0,a.kq)("",!0),(0,a._)("div",u,[(0,a._)("div",h,[(0,a.wy)((0,a._)("input",{type:"date",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=e=>L.startDate=e)},null,512),[[o.nr,L.startDate]]),p]),(0,a._)("div",g,[(0,a.wy)((0,a._)("input",{type:"date",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=e=>L.endDate=e)},null,512),[[o.nr,L.endDate]]),_])]),(0,a._)("div",f,[(0,a._)("div",v,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"Name","onUpdate:modelValue":s[2]||(s[2]=e=>L.taskName=e)},null,512),[[o.nr,L.taskName]]),k]),(0,a._)("div",w,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"modulo","onUpdate:modelValue":s[3]||(s[3]=e=>L.moduleName=e)},null,512),[[o.nr,L.moduleName]]),y])]),(0,a._)("div",b,[(0,a._)("div",D,[E,(0,a.wy)((0,a._)("textarea",{type:"date",class:"form-control",id:"description","aria-label":"Descrizione",style:{"min-height":"100%"},"onUpdate:modelValue":s[4]||(s[4]=e=>L.txtDescription=e)},null,512),[[o.nr,L.txtDescription]])]),(0,a._)("div",C,[I,(0,a.wy)((0,a._)("input",{type:"checkbox",id:"checkbox","onUpdate:modelValue":s[5]||(s[5]=e=>L.checked=e),style:{margin:"20px"}},null,512),[[o.e8,L.checked]])])]),L.isAmministratore?((0,a.wg)(),(0,a.iD)("div",z,[(0,a._)("div",x,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":s[6]||(s[6]=e=>L.idUser=e),class:"form-control",style:{color:"#0EA2BD"}},[N,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(L.options,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id},(0,i.zw)(e.nome)+" "+(0,i.zw)(e.cognome)+": "+(0,i.zw)(e.id),9,A)))),256))],512),[[o.bM,L.idUser]])])])):(0,a.kq)("",!0),T],32)])])}t(7658);var U=t(1242);const S=e=>U.Z.post("/task",e);var M=t(2227),V=t(5941),q={name:"FormAddTask",data(){return{isAmministratore:!1,txtDescription:"",moduleName:"",startDate:"",endDate:"",taskName:"",checked:!1,idUser:"",error:"",isError:!1,selected:"",options:[],val:1}},created(){localStorage.getItem("role")?"ROLE_AMMINISTRATORE"===localStorage.getItem("role")&&(this.isAmministratore=!0):this.$router.push("/"),this.selectIds(),this.isError=!1,this.error=""},methods:{selectIds(){(0,M.Q)().then((({data:e})=>{V.log("La richiesta è arrivata:"),V.log(e);for(let o=0;o<e.length;o++)if("ROLE_AMMINISTRATORE"==e[o].role){if(this.isAmministratore){var s=e[o]._id,t=e[o].nome,a=e[o].cognome;this.options.push({id:s,nome:t,cognome:a})}}else{s=e[o]._id,t=e[o].nome,a=e[o].cognome;this.options.push({id:s,nome:t,cognome:a})}}))},addTask(){if(V.log(this.startDate),V.log(this.endDate),this.validateForm){V.log("Data:"),V.log(this.data);var e,s=!1;for(e=0;e<this.options.length&&!s;e++){const t=this.options[e];t.id==this.idUser&&(s=!0)}e--,V.log("Options:"),V.log(this.options),V.log("Options["+e+"]: "+this.options[e]),V.log(this.options[e].nome),V.log(this.options[e].cognome);const t={data_inizio:this.startDate,data_fine:this.endDate,nome:this.taskName,modulo:this.moduleName,descrizione:this.txtDescription,userId:this.idUser,completata:this.checked,nomeuser:this.options[e].nome,cognomeuser:this.options[e].cognome};S(t).then((e=>{201==e.status?(alert("Task aggiunta con successo"),this.$router.push("/tasks")):(this.isError=!0,this.error=e.status+": "+e.data.message)})).catch((e=>{this.isError=!0,this.error=e.response.status+": "+e.response.data.message}))}},validateForm(){return""==this.startDate?(this.error="Inserisci una data di inizio",this.isError=!0,!1):""==this.endDate?(this.error="Inserisci una data di fine",this.isError=!0,!1):""==this.taskName?(this.error="Inserisci un nome per la task",this.isError=!0,!1):""==this.moduleName?(this.error="Inserisci un nome per il modulo",this.isError=!0,!1):""==this.txtDescription?(this.error="Inserisci una descrizione",this.isError=!0,!1):!this.isAmministratore||""!=this.idUser||(this.error="Inserisci un id utente",this.isError=!0,!1)}}},F=t(89);const R=(0,F.Z)(q,[["render",L],["__scopeId","data-v-3c9b5d3c"]]);var O=R},672:function(e,s,t){t.r(s),t.d(s,{default:function(){return I}});var a=t(3396),o=t(7139),i=t(3862);const r=e=>((0,a.dD)("data-v-3eb4b697"),e=e(),(0,a.Cn)(),e),l={class:"row justify-content-center"},n={class:"col-9 align-self-center prova"},c=r((()=>(0,a._)("h1",null,"Elimina task",-1))),d={class:"form-floating"},m={key:0,class:"row"},u={class:"col-md-12 error"},h={class:"row form-floating"},p={class:"col-md-12 form-floating"},g=r((()=>(0,a._)("label",{for:"Name",class:"myLabel"},"    Nome task",-1))),_={class:"col-md-6"},f=r((()=>(0,a._)("label",{for:"checkbox",class:"myLabel"},"Sei sicuro di voler eliminare questa task? ",-1))),v={class:"row"},k={class:"col-md-12"};function w(e,s,t,r,w,y){return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",n,[c,(0,a._)("form",d,[w.isError?((0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("div",u,(0,o.zw)(w.error),1)])):(0,a.kq)("",!0),(0,a._)("div",h,[(0,a._)("div",p,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"Name","onUpdate:modelValue":s[0]||(s[0]=e=>w.taskName=e)},null,512),[[i.nr,w.taskName]]),g]),(0,a._)("div",_,[f,(0,a.wy)((0,a._)("input",{type:"checkbox",id:"checkbox","onUpdate:modelValue":s[1]||(s[1]=e=>w.checked=e),style:{margin:"20px"},required:""},null,512),[[i.e8,w.checked]])])]),(0,a._)("div",v,[(0,a._)("div",k,[(0,a._)("button",{class:"btn btn-primary",type:"submit",onClick:s[2]||(s[2]=e=>y.deleteTask())},"Elimina")])])])])])}t(7658);var y=t(1242);const b=e=>y.Z["delete"](`/task/${e}`);var D={data(){return{checked:!1,error:"",taskName:"",isError:!1,isAmministratore:!1}},created(){localStorage.getItem("role")?"ROLE_AMMINISTRATORE"===localStorage.getItem("role")&&(this.isAmministratore=!0):this.$router.push("/")},methods:{deleteTask(){this.checkForm()&&b(this.taskName).then((e=>{200===e.status?(alert("Task eliminata con successo"),this.$router.push("/tasks")):(this.error=e.status+": "+e.data.message,this.isError=!0)})).catch((e=>{this.error=e.response.data.message,this.isError=!0}))},checkForm(){return this.checked?!/^ *$/.test(this.taskName)||(this.error="Devi inserire il nome della task",this.isError=!0,!1):(this.error="Devi spuntare la casella per eliminare la task",this.isError=!0,!1)}}},E=t(89);const C=(0,E.Z)(D,[["render",w],["__scopeId","data-v-3eb4b697"]]);var I=C},9528:function(e,s,t){t.r(s),t.d(s,{default:function(){return ue}});var a=t(3396);const o=e=>((0,a.dD)("data-v-7ffb884f"),e=e(),(0,a.Cn)(),e),i=o((()=>(0,a._)("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css"},null,-1))),r={class:""},l={class:"container"},n={class:"row rowBtn"},c={class:"wrimagecard wrimagecard-topimage"},d={class:"wrimagecard-topimage_header",style:{"background-color":"rgba(36, 187, 46, 0.1)"}},m=o((()=>(0,a._)("i",{class:"fa fa-plus",style:{color:"#148c26"}},null,-1))),u=o((()=>(0,a._)("div",{class:"wrimagecard-topimage_title"},[(0,a._)("h4",null,"Aggiungi task")],-1))),h={class:"wrimagecard wrimagecard-topimage"},p={class:"wrimagecard-topimage_header",style:{"background-color":"rgba(187, 36, 36, 0.1)"}},g=o((()=>(0,a._)("i",{class:"fa fa-minus",style:{color:"#d21515"}},null,-1))),_=o((()=>(0,a._)("div",{class:"wrimagecard-topimage_title"},[(0,a._)("h4",null,"Elimina task")],-1))),f={class:"wrimagecard wrimagecard-topimage"},v={class:"wrimagecard-topimage_header",style:{"background-color":"rgba(187, 120, 36, 0.1)"}},k=o((()=>(0,a._)("i",{class:"fa fa-pencil",style:{color:"#BB7824"}},null,-1))),w=o((()=>(0,a._)("div",{class:"wrimagecard-topimage_title"},[(0,a._)("h4",null,"Modifica task")],-1))),y={class:"row"},b={key:0},D={key:1},E={key:2};function C(e,s,t,o,C,I){const z=(0,a.up)("Tasks"),x=(0,a.up)("center"),N=(0,a.up)("AddTask"),A=(0,a.up)("DeleteTask"),T=(0,a.up)("EditTask"),L=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)(a.HY,null,[i,(0,a._)("div",r,[(0,a.Wm)(z),(0,a._)("div",l,[(0,a._)("div",n,[(0,a._)("div",{class:"col-md-4 col-sm-4",onClick:s[0]||(s[0]=e=>I.showComponent("Add"))},[(0,a._)("div",c,[(0,a._)("a",null,[(0,a._)("div",d,[(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[m])),_:1})]),u])])]),(0,a._)("div",{class:"col-md-4 col-sm-4",onClick:s[1]||(s[1]=e=>I.showComponent("Delete"))},[(0,a._)("div",h,[(0,a._)("a",null,[(0,a._)("div",p,[(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[g])),_:1})]),_])])]),(0,a._)("div",{class:"col-md-4 col-sm-4",onClick:s[2]||(s[2]=e=>I.showComponent("Edit"))},[(0,a._)("div",f,[(0,a._)("a",null,[(0,a._)("div",v,[(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[k])),_:1})]),w])])])]),(0,a._)("div",y,["Add"==C.currentComponent?((0,a.wg)(),(0,a.iD)("div",b,[(0,a.Wm)(N)])):(0,a.kq)("",!0),"Delete"==C.currentComponent?((0,a.wg)(),(0,a.iD)("div",D,[(0,a.Wm)(A)])):(0,a.kq)("",!0),"Edit"==C.currentComponent?((0,a.wg)(),(0,a.iD)("div",E,[(0,a.Wm)(T)])):(0,a.kq)("",!0)])])]),(0,a.Wm)(L)],64)}t(7658);var I=t(9160),z=t(3862),x=t(7139);const N=e=>((0,a.dD)("data-v-37eaed8a"),e=e(),(0,a.Cn)(),e),A=N((()=>(0,a._)("div",{class:"triangle"},null,-1))),T={class:"taskBody"},L={class:"container"},U={class:"row"},S={class:"col-md-4"},M={class:"input-group"},V=N((()=>(0,a._)("div",{class:"input-group-text",style:{"border-left":"0px !important"}},[(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"28",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16"},[(0,a._)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})])],-1))),q={class:"card"},F={class:"row",style:{"margin-top":"10px"}},R={class:"col-md-8 align",id:"Name"},O={style:{color:"rgb(0, 0, 0)"}},W={class:"fs-4"},$={key:0,style:{color:"#707070"}},Z={class:"fs-5"},B={class:"col-md-4",id:"StartStopDate"},Q=N((()=>(0,a._)("i",{class:"fa fa-calendar","aria-hidden":"true"},null,-1))),H={style:{"margin-left":"5px"}},Y={class:"col-md-12 align",id:"Module",style:{color:"#b1b1b1"}},j={class:"col-md-12 align",id:"Description"},K=N((()=>(0,a._)("br",null,null,-1))),G={key:1},J=N((()=>(0,a._)("p",null," Nessuna task ancora assegnata",-1))),P=[J];function X(e,s,t,o,i,r){return(0,a.wg)(),(0,a.iD)(a.HY,null,[A,(0,a._)("div",T,[(0,a._)("div",L,[(0,a._)("div",U,[(0,a._)("div",S,[(0,a._)("div",M,[(0,a.wy)((0,a._)("input",{class:"form-control py-2",style:{"border-right":"0px !important"},type:"search",id:"example-search-input","onUpdate:modelValue":s[0]||(s[0]=e=>i.searchQuery=e),placeholder:"Cerca task... (nome)"},null,512),[[z.nr,i.searchQuery]]),V])])]),(0,a._)("div",q,[0!=r.tasks.length?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(r.tasks,(e=>((0,a.wg)(),(0,a.iD)("section",{class:"sec",key:e.nome},[(0,a._)("div",F,[(0,a._)("div",R,[(0,a._)("div",O,[(0,a.Uk)((0,x.zw)(e.value)+". ",1),(0,a._)("strong",W,(0,x.zw)(e.nome),1),null!=e.id?((0,a.wg)(),(0,a.iD)("span",$,[(0,a.Uk)(" - "),(0,a._)("span",Z,(0,x.zw)(e.id),1)])):(0,a.kq)("",!0)])]),(0,a._)("div",B,[Q,(0,a._)("span",H,(0,x.zw)(e.dataInizio)+" - "+(0,x.zw)(e.dataFine),1)]),(0,a._)("div",Y,(0,x.zw)(e.modulo),1),(0,a._)("div",j,[K,(0,a.Uk)((0,x.zw)(e.descrizione),1)])])])))),128)):((0,a.wg)(),(0,a.iD)("section",G,P))])])])],64)}var ee=t(6402),se=1,te={data(){return{searchQuery:null,tasks:[],value:0}},created(){localStorage.getItem("role")||this.$router.push("/"),this.getList()},methods:{getList(){(0,ee.A)().then((({data:e})=>{for(let s=0;s<e.length;s++)this.tasks.push(new ae(e[s].data_inizio,e[s].data_fine,e[s].nome,e[s].modulo,e[s].descrizione,e[s].userId,e[s].completata))}))}},computed:{tasks(){return this.searchQuery?this.tasks.filter((e=>this.searchQuery.toLowerCase().split(" ").every((s=>!!(e.nome.toLowerCase().includes(s)||null!=e.id||e.userId.toLowerCase().includes(s)||e.modulo.toLowerCase().includes(s)||null!=e.nome||null!=e.modulo)&&e.nome.toLowerCase().includes(s))))):this.tasks}}};class ae{constructor(e,s,t,a,o,i=null,r=!1){this.dataInizio=e,this.dataFine=s,this.nome=t,this.modulo=a,this.descrizione=o,this.id=i,this.completata=r,this.value=se,se+=1}}var oe=t(89);const ie=(0,oe.Z)(te,[["render",X],["__scopeId","data-v-37eaed8a"]]);var re=ie,le=t(2732),ne=t(672),ce=t(9786),de={data(){return{currentComponent:null}},components:{Footer:I.Z,Tasks:re,AddTask:le["default"],DeleteTask:ne["default"],EditTask:ce["default"]},created(){localStorage.getItem("role")||this.$router.push("/")},methods:{showComponent(e){this.currentComponent===e?this.currentComponent=null:this.currentComponent=e}}};const me=(0,oe.Z)(de,[["render",C],["__scopeId","data-v-7ffb884f"]]);var ue=me}}]);
//# sourceMappingURL=850.2f22726d.js.map