"use strict";(self["webpackChunkiss4u"]=self["webpackChunkiss4u"]||[]).push([[672],{672:function(e,s,r){r.r(s),r.d(s,{default:function(){return D}});var t=r(3396),a=r(7139),i=r(3862);const o=e=>((0,t.dD)("data-v-3eb4b697"),e=e(),(0,t.Cn)(),e),l={class:"row justify-content-center"},c={class:"col-9 align-self-center prova"},n=o((()=>(0,t._)("h1",null,"Elimina task",-1))),d={class:"form-floating"},m={key:0,class:"row"},u={class:"col-md-12 error"},h={class:"row form-floating"},k={class:"col-md-12 form-floating"},p=o((()=>(0,t._)("label",{for:"Name",class:"myLabel"},"    Nome task",-1))),v={class:"col-md-6"},f=o((()=>(0,t._)("label",{for:"checkbox",class:"myLabel"},"Sei sicuro di voler eliminare questa task? ",-1))),b={class:"row"},_={class:"col-md-12"};function g(e,s,r,o,g,w){return(0,t.wg)(),(0,t.iD)("div",l,[(0,t._)("div",c,[n,(0,t._)("form",d,[g.isError?((0,t.wg)(),(0,t.iD)("div",m,[(0,t._)("div",u,(0,a.zw)(g.error),1)])):(0,t.kq)("",!0),(0,t._)("div",h,[(0,t._)("div",k,[(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",id:"Name","onUpdate:modelValue":s[0]||(s[0]=e=>g.taskName=e)},null,512),[[i.nr,g.taskName]]),p]),(0,t._)("div",v,[f,(0,t.wy)((0,t._)("input",{type:"checkbox",id:"checkbox","onUpdate:modelValue":s[1]||(s[1]=e=>g.checked=e),style:{margin:"20px"},required:""},null,512),[[i.e8,g.checked]])])]),(0,t._)("div",b,[(0,t._)("div",_,[(0,t._)("button",{class:"btn btn-primary",type:"submit",onClick:s[2]||(s[2]=e=>w.deleteTask())},"Elimina")])])])])])}r(7658);var w=r(1242);const y=e=>w.Z["delete"](`/task/${e}`);var E={data(){return{checked:!1,error:"",taskName:"",isError:!1,isAmministratore:!1}},created(){localStorage.getItem("role")?"ROLE_AMMINISTRATORE"===localStorage.getItem("role")&&(this.isAmministratore=!0):this.$router.push("/")},methods:{deleteTask(){this.checkForm()&&y(this.taskName).then((e=>{200===e.status?(alert("Task eliminata con successo"),this.$router.push("/tasks")):(this.error=e.status+": "+e.data.message,this.isError=!0)})).catch((e=>{this.error=e.response.data.message,this.isError=!0}))},checkForm(){return this.checked?!/^ *$/.test(this.taskName)||(this.error="Devi inserire il nome della task",this.isError=!0,!1):(this.error="Devi spuntare la casella per eliminare la task",this.isError=!0,!1)}}},N=r(89);const x=(0,N.Z)(E,[["render",g],["__scopeId","data-v-3eb4b697"]]);var D=x}}]);
//# sourceMappingURL=672.7e01854a.js.map